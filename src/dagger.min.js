export default(({asserter:j,logger:O,groupStarter:q,groupEnder:V,warner:$}=((c=(e,s,i)=>{let r=e.startsWith('"')?1:0,o=[],n=[];return L(e.split('"').filter(e=>e),(e,t)=>(t+r)%2?o.push(`%c"${e}"`)&&n.push(i):o.push("%c"+e)&&n.push(s))||[o.join(""),...n]},s=(t,s,l,a,h,e=!1)=>{if(!s){s=", please double check.";if(Array.isArray(t)){let[e,...i]=t,r=i.length,o=[],n="";L((e+s).split('"%o"'),(e,t)=>{var[e,...s]=c(e,a,h);n+=e,o=[...o,...s],t<r&&(n+='%c"%o"',o=[...o,h,i[t]])}),l(n,...o)}else l(...c(t+s,a,h));if(e)throw new Error("dagger AssertionError occurred!")}})=>({asserter:(e,t)=>s(e,t,console.assert.bind(console,!1),m.errorPlainStyle,m.errorHighlightStyle,!0),logger:e=>m.log&&console.log(...c(e,m.logPlainStyle,m.logHighlightStyle)),warner:(e,t)=>m.warning&&s(e,t,console.warn,m.warningPlainStyle,m.warningHighlightStyle),groupStarter:e=>m.log&&console.group(e),groupEnder:e=>m.log&&console.groupEnd(e)}))(),u=Symbol("context"),S=null,m={integrity:!0},n=[],h={bubble:"bubble",self:"self",mutation:"mutation"},p=!1,v=/^[_a-z]{1}[\w]*$/,G=null,K=/^(http:\/\/|https:\/\/|\/|\.\/|\.\.\/)/i,w=null,T=null,f=null,Y=[],A=e=>Array.isArray(e)?e:[e],C=()=>Object.create(null),l=C(),x=new Set,E=((o=new Set,n=new Set,l=(s,t,e,i=0)=>{var r=e[i++];if(r){var o=r.$eventListenerMap&&r.$eventListenerMap[s.type],o=o?[...o].filter(e=>Object.is(e.decorators.capture,t)):[];if(!o.length)return l(s,t,e,i);Object.defineProperty(s,"currentTarget",{configurable:!0,value:r});for(let{decorators:e,handler:t}of o)if(t(s),e.stopImmediate)return s.stopImmediatePropagation();s.cancelBubble||l(s,t,e,i)}})=>(e,t,s,i)=>{t.$eventListenerMap||(t.$eventListenerMap=C());var r=t.$eventListenerMap[e]||new Set;I(s)&&(s={decorators:{capture:i},handler:s}),g.call(r,s),t.$eventListenerMap[e]=r,i&&n.has(e)||!i&&o.has(e)||((i?n:o).add(e),window.addEventListener(e,e=>l(e,i,i?e.composedPath().reverse():e.composedPath(),0),i))})(),L=(t,s)=>{if(t){var i=t.length||0;for(let e=0;e<i;++e)s(t[e],e)}},J=e=>e.replace(/-[a-z]/g,e=>e[1].toUpperCase()),t=(...e)=>{let t=C();return L(e,e=>t[e]=!0)||t},N=Symbol("meta"),R={json:"json",namespace:"namespace",script:"script",style:"style",string:"string",view:"view"},M=Promise.resolve(),P=null,X=new Set,a=document.createTextNode(""),Z=t("observe-intersection","observe-mutation","observe-resize"),b=((o={options:{debugDirective:!0,integrity:!1,log:!0,warning:!0,logPlainStyle:"color: #337ab7",logHighlightStyle:"color: #9442d0",warningPlainStyle:"color: #ff0000",warningHighlightStyle:"color: #b22222",errorPlainStyle:"color: #ff0000",errorHighlightStyle:"color: #b22222",rootSelectors:["title","body"]},modules:{view:{uri:["template#view"],type:R.view,optional:!0},script:{uri:['script[type="dagger/script"]'],type:R.script,anonymous:!0,optional:!0},style:{uri:['style[type="dagger/style"]'],type:R.style,scoped:!0,optional:!0}},routers:{mode:"hash",prefix:"",aliases:{},default:"",routing:null}},n=(e,t,s,i)=>({base:e,content:i?Object.assign({},o[s],t):t}))=>(s,i,r="modules")=>{s=B(s,`script[type="dagger/${r}"]`,!1,!0);if(s){let e=s.getAttribute("src"),t=!Object.is(r,"modules")||s.hasAttribute("extends");return s.hasAttribute("base")&&(i=new URL(s.getAttribute("base")||"",i).href),e?ne(new URL(e,i),s.integrity).then(({content:e})=>n(i,k(e),r,t)):n(i,s.textContent.trim()?k(s.textContent):{},r,t)}return{base:i,content:o[r]}})(),k=t=>{if(!Reflect.has(l,t))try{try{l[t]=new Function(`return (${t});`)()}catch(e){l[t]=new Function(`return (() => {${t}})();`)()}}catch(e){j(`The content "${t}" is not legal javaScript code, parsing with error "${e.message}"`)}return l[t]},I=e=>e instanceof Function,U=e=>e instanceof Object,D=e=>e instanceof Promise,Q=e=>e.startsWith("SL-"),H=e=>Object.is(typeof e,"string"),ee=((e=t(...Object.keys(R).map(e=>"@"+e)),r=(e,t)=>{var s=Array.isArray(e),i=e;return H(e)||s&&e.every(H)?e={uri:e}:s&&(e={candidates:e}),e.candidates&&(e.candidates=A(e.candidates),s=e.candidates.find(e=>U(e)&&(!Reflect.has(e,"media")||matchMedia(e.media).matches)),j(['There is no matched config candidate within "%o" for the current runtime environment',i],s),Object.assign(e,s)),e.type||(e.type=t),e.uri&&(e.uri=A(e.uri)),e})=>i=>L(Object.keys(i),s=>e[s]&&U(i[s])?L(Object.entries(i[s]),([e,t])=>{j([`The module "${e}" already exists in "%o"`,i],!Reflect.has(i,e)),i[e]=r(t,s.substring(1))})||Reflect.deleteProperty(i,s):i[s]=r(i[s]))||i)(),y=e=>Reflect.ownKeys(e).filter(e=>!Object.is(e,N)),d=async([e,...t],s={stop:!1})=>{if(!s.stop)return D(e)?e.then(e=>d([e,...t],s)):I(e)?d([e(null,s),...t],s):t.length?d([t.shift()(e,s),...t],s):e},te=JSON.stringify,g=Set.prototype.add,se=Set.prototype.clear,W=Set.prototype.delete,ie=Map.prototype.clear,re=Map.prototype.set,c=WeakMap.prototype.set,_=()=>{n.length&&(L(k(`[${n.map(e=>e.processor).join(", ")}]`),(e,t)=>{t=n[t];l[t.processor]=e,t.processor=e}),n.length=0)},oe=i=>{function e(...t){var e=S;let s=S=null;try{s=i.apply(this,t)}catch(e){try{s=Reflect.construct(i,t)}catch(e){j(['Failed to execute the function "%o"',i])}}return S=e,s}return e.prototype=i.prototype,e},B=(e,t,s=!1,i=!1)=>{try{var r=e[s?"querySelectorAll":"querySelector"](t);return i||j(`Failed to get element matched selector "${t}"`,s?r.length:r),r}catch(e){j(`The string "${t}" is not a valid querySelector`,!Object.is(e.message,"dagger AssertionError occurred!"))}},ne=(s,e="")=>fetch(s,m.integrity&&e?{integrity:"sha256-"+e}:{}).then(e=>{if(e.ok){let t=e.headers.get("content-type");return j(`Missing "content-type" for the response content of "${s}"`,t),e.text().then(e=>({content:e,type:t}))}$(`❎ Failed to fetch remote resource from "${s}"`)}).catch(()=>$(`❎ Failed to fetch remote resource from "${s}"`)),le=(e,t,s)=>{var i=document.createElement("style");return e&&(i.textContent=e),document.head.appendChild(i),i.disabled=s,i.setAttribute("name",t),i.setAttribute("route-debug",location.href),i.setAttribute("active-debug",!s),i},ae=e=>{var t=document.createElement("template");return t.innerHTML=e,t.content},he=(e,s)=>L(e.children,t=>{Object.is(t.tagName,"TEMPLATE")?((t.hasAttribute("@slot")||t.hasAttribute("*html"))&&(t.$tags=s),he(t.content,s)):t instanceof HTMLElement&&L(s,e=>t.setAttribute(e,""))}),F=(e,t=!0)=>{if(!H(e)){if(null==e||Number.isNaN(e))return"";if(U(e))return te(e);e=String(e)}return t?e.trim():e},z=((r=Object.prototype.hasOwnProperty,o=new Set([...Reflect.ownKeys(Symbol).map(e=>Symbol[e]).filter(e=>Object.is(typeof e,"symbol")),u,N]),n=new WeakMap,l=new Set([void 0,Array,Object]),a={get:(e,s)=>{let i=e[s];if(S&&!o.has(s)&&(Object.is(i)||r.call(e,s))){let t=S.topologySet;L([...e[N]].filter(e=>!e.parent||t.has(e)),e=>e.fetch(s,i).subscribe())}return i},set:(e,t,s)=>{var i;return j('It\'s illegal to overwrite "$route" of the rootScope',p||!Object.is(e,G)||!Object.is(t,"$route")),e[t]=s,!o.has(t)&&r.call(e,t)&&(i=e[N],S&&i.forEach(e=>e.unsubscribe(S)),s=z(e,t),i.forEach(e=>e.fetch(t).update(s,h.self))),!0},deleteProperty:(e,t)=>{var s=Reflect.has(e,t);return!!Reflect.deleteProperty(e,t)&&(s&&H(t)&&e[N].forEach(e=>e.fetch(t).update(void 0,h.self)),!0)}})=>(e,t)=>{var s,i=null==t;let r=i?e:e[t];return(U(r)||r&&!r.constructor)&&((s=n.get(r))?r=s:(r[N]=new Set,l.has(r.constructor)&&(s=new Proxy(r,a),c.call(n,r,s),L(y(r),e=>z(r,e)),r=s),c.call(n,r,r))),i?r[N].add(new pe(null,"",r)):e[t]=r,r})(),ce=((i=new Map,r={json:"dagger/json",namespace:"dagger/modules",script:"dagger/script",style:"dagger/style",string:"dagger/string"},o=C(),n={html:"text/html",json:"application/json",script:["application/javascript","javascript/esm","text/javascript"],style:"text/css"},l=/(?:^|;|\s+)(?:export|import)\s*?(?:(?:(?:[$\w*\s{},]*)\s*from\s*?)|)(?:(?:"([^"]+)?")|(?:'([^']+)?'))[\s]*?(?:$|)/gm,e=new TextEncoder,h=((l=/([\s:+>~])/,a=[":root",":scope","html","body"])=>(s,e,i,r,t="")=>{var o,n;if(e instanceof CSSKeyframesRule&&(o=e.name,e.name=o+"-"+i,s.insertRule(e.cssText,r.index++),e.name=o),e.cssRules?.length){let t=e.conditionText;L(e.cssRules,e=>h(s,e,i,r,t))}else e.selectorText&&(o=e.style,n=o.animationName,e=`${e.selectorText.split(",").map(t=>(t=t.trim())&&(a.some(e=>t.startsWith(e))&&t||`${l.test(t)?t.replace(l,`[${i}]$1`):t+`[${i}]`}, [${i}] `+t)).join(", ")}{${o.cssText}}`,n&&(o.animationName=n+"-"+i),s.insertRule(t?`@media ${t}{ ${e} }`:e,r.index++),n)&&(o.animationName=n)})(),a=(s,i)=>{try{L(y(s),e=>{var t=s[e];I(t)?i[e]=oe(t):(i[e]=t,U(t)&&a(t,t))})}catch(e){}finally{return i}},c=class{constructor(e={},t="",s="",i=null){s=s.trim(),j(`The module name should be valid string matched RegExp "${v.toString()}" instead of "${s}"`,!i||v.test(s)),this.layer=s?(i?.layer||0)+1:0,this.space=new Array(4*this.layer).fill(" ").join(""),this.name=s,this.state="unresolved",this.valid=!0,this.module=this.integrity=this.parent=this.children=this.type=this.content=this.resolvedContent=null,i?(this.parent=i,this.path=i.path?i.path+"."+s:s,this.tags=[...i.tags,this.path.replace(/\./g,"__")],this.baseElement=i.baseElement):(this.path=s,this.tags=[],this.baseElement=document);var{integrity:s,uri:r,type:o}=e;o&&(j(`${this.space}The type of module "${this.path}" should be one of "json, namespace, script, style, string, view" instead of "${o}"`,R[o]),this.type=o),Reflect.has(e,"content")?(this.content=e.content,j(`${this.space}The type of module "${this.path}" should be specified as one of "json, namespace, script, style, string, view" instead of "${o}"`,o)):r?this.URIs=r:j([`${this.space}Failed to parse the config "%o" for module "${this.path}" as there is no valid "content" or "uri" definition`,e]),this.integrity=s,this.config=e,this.promise=new Promise(e=>this.resolver=e),this.base=new URL(e.base||t,i?.base||document.baseURI).href,e.prefetch&&this.resolve()}fetch(e){var t;return e.length?(t=e.shift(),this.fetchChild(t).fetch(e)):this}fetchChild(t,e=!1){var s=this.children?.find(e=>Object.is(e.name,t)&&e.valid);if(s||!e)return j(this.space+`Failed to fetch module "${t}" within `+(this.path?`namespace "${this.path}"`:"the root namespace"),!Object.is(s)),s}fetchViewModule(e){var t=this.fetchChild(e,!0);return t?(j(`The module "${t.path}" is referenced but not declared in the "modules" field of the current route`,!Object.is(t.state,"unresolved")),t):(j(`There is no valid module named "${e}" found`,this.parent),this.parent.fetchViewModule(e))}resolve(t=null){let s=this.type;if(!Object.is(this.state,"unresolved")){if(!t)return this.valid&&Object.is(this.state,"resolved")&&(Object.is(s,R.style)?g.call(x,this.module):Object.is(s,R.namespace)&&L(this.children,e=>e.resolve())),this.promise;this.promise=new Promise(e=>this.resolver=e)}this.state="resolving",O(this.space+"⏳ resolving the "+(this.config.optional?"default optional ":"")+(this.path?`module "${this.path}"`:"root module")),this.verifyDependency();let i=null;if(null==this.content)i=[...this.URIs.map(s=>(j([`${this.space}The "uri" of module "${this.path}" should be valid "string" instead of "%o"`,s],H(s)),(e,t)=>(t.stop=!!e)||this.resolveURI(s))),e=>{e||(j([`${this.space}Failed to resolve uri of module "${this.path}" from "%o"`,this.URIs]),this.valid=!1,this.resolved(null))}];else{let e=this.content;i=[...i=[R.namespace,R.json].includes(s)?(j([`${this.space}The content of module "${this.path}" with type "${s}" should be valid "object" instead of "%o"`,e],e&&Object.is(typeof e,"object")),[!this.path&&this.integrity||this.resolveIntegrity(e),()=>Object.is(s,R.namespace)?this.resolveNamespace(e,this.base,t):e]):[this.resolveIntegrity(e),e=>this.resolveContent(e)],e=>this.resolveModule(e),e=>this.resolved(e)]}return M.then(()=>d(i)),this.promise}resolveCachedModuleProfile(e){return this.integrity=e.integrity,this.verifyDependency(),this.type||(this.type=e.type),e.resolvedContent}resolveContent(t){H(t)||(t=te(t)),this.content=t.trim();var e=this.type;if(Object.is(e,R.namespace))return this.baseElement=ae(t),d([b(this.baseElement,this.base),({base:e,content:t})=>this.resolveNamespace(t,e)]);if(Object.is(e,R.script))return import("data:text/javascript, "+encodeURIComponent(t.replace(l,(e,t,s)=>e.replace(t||s,new URL(t||s,this.base))))).catch(()=>j(`${this.space}Failed to import dynamic script module "${this.path}" with resolved content "${t}"`));if(Object.is(e,R.view)){var s=ae(t);he(s,this.parent.tags);let e=new ue(s,this.parent,null,null,!1,{});return Promise.all(e.promises||[]).then(()=>e)}return Object.is(e,R.style)?le(t,this.path+"-template",!0):Object.is(e,R.json)?JSON.parse(t):Object.is(e,R.string)?this.content:void j(`${this.space}Failed to resolve module "${this.path}" of unknown type "${e}"`)}resolved(e){return this.module=e,this.state="resolved",this.resolver(this),O(`${this.space}✅ resolved the ${this.config.optional?"default optional ":""}${this.path?`"${this.type}" module "${this.path}"`:"root module"} `+(this.valid?"successfully":"failed")),this}resolveEmbeddedType(t){if(!this.type){var{tagName:e,type:s}=t;if(Object.is(e,"TEMPLATE"))this.type=R.view;else if(Object.is(e,"STYLE")&&Object.is(s,r.style))this.type=R.style;else if(Object.is(e,"SCRIPT")){if(Object.is(s,r.namespace))return this.type=R.namespace,d([this.resolveIntegrity(t.innerHTML),e=>this.resolveNamespace(k(e),t.getAttribute("base")||this.base)]);Object.is(s,r.script)?this.type=R.script:Object.is(s,r.json)?this.type=R.json:Object.is(s,r.string)&&(this.type=R.string)}j([`The element "%o" of type "${s||"undefined"}" is not supported`,t],this.type)}return d([this.resolveIntegrity(t.innerHTML),e=>this.resolveContent(e)])}resolveIntegrity(t){return m.integrity?crypto.subtle.digest("SHA-256",e.encode(H(t)?t:te(t))).then(e=>{e=btoa([...new Uint8Array(e)].map(e=>String.fromCharCode(e)).join(""));return j(`The expected "SHA-256" integrity for module "${this.path}" is "${this.integrity}" while the computed integrity is "${e}"`,!this.integrity||Object.is(this.integrity,e)),o[e]||(o[e]=this),this.integrity=e,this.verifyDependency(),t}):t}resolveModule(e){let r=this.resolvedContent=e;var t=this.type,s=Object.is(t,R.namespace);if(this.parent&&(s||Object.is(t,R.view)))try{var i=document.createElement(this.name);j([`${this.space}It's illegal to use "${this.name}" as a namespace or view module name as it's the tag name of builtin html element "%o"`,i.constructor],!Object.is(this.name,this.name.toLowerCase())||i instanceof HTMLUnknownElement)}catch(e){j(`${this.space}It's illegal to use "${this.name}" as a namespace or view module name`)}if(s)r=this.module,this.children||(this.children=e),this.config.explicit&&(this.config.anonymous?Object.assign(this.parent.module,r):this.parent.module[this.name]=r),this.parent&&this.parent.resolve().then(e=>Object.setPrototypeOf(r,e.module));else if(Object.is(t,R.script))r=a(r,C()),Object.is(this.config.anonymous,!1)?this.parent.module[this.name]=r:Object.assign(this.parent.module,r);else if(Object.is(t,R.style)){if(!Object.is(this.config.scoped,!1)){let e=le("",this.path,!0),t=e.sheet,s={index:0},i=this.parent.path.replace(/\./g,"__");i?L(r.sheet.cssRules,e=>h(t,e,i,s)):e.textContent=r.textContent,e.setAttribute("based",this.path+"-template"),r=e}g.call(x,r)}else Object.is(t,R.json)?this.config.anonymous?Object.assign(this.parent.module,r):this.parent.module[this.name]=r:Object.is(t,R.string)&&(this.parent.module[this.name]=r);return r}resolveNamespace(e,s,t=null){this.parent&&ee(e),this.children||(this.children=Object.entries(e).map(([e,t])=>new c(t,s,e,this)));let i=this.children;return t&&(i=this.children.filter(e=>t.has(e.name)),Object.is(i.length,t.size)||(L(i,e=>W.call(t,e.name)),j(`The modules "${[...t].join(", ")}" is not declared in the root namespace`))),this.module=this.module||C(),Promise.all(i.map(e=>e.resolve()))}resolveRemoteType(e,t,s){this.base=s,this.type||(s.endsWith(".js")||s.endsWith(".mjs")||n.script.some(e=>t.includes(e))?this.type=R.script:s.endsWith(".css")||t.includes(n.style)?this.type=R.style:s.endsWith(".html")||t.includes(n.html)?(e=e.trim(),this.type=e.startsWith("<html>")||e.startsWith("<!DOCTYPE ")?R.namespace:R.view):s.endsWith(".json")||t.includes(n.json)?this.type=R.json:this.type=R.string)}resolveURI(t){if(t=t.trim()){let e=null;if(K.test(t)){var s=o[this.integrity];if(s)e=[s.resolve(),e=>this.resolveCachedModuleProfile(e)];else{this.integrity&&(o[this.integrity]=this);let s=new URL(t,this.base).href;e=[(e,t)=>d([ne(s,this.integrity),e=>e||(t.stop=!0)]),({content:e,type:t})=>this.resolveRemoteType(e,t,s)||this.resolveIntegrity(e),e=>this.resolveContent(e)]}}else{s=B(this.baseElement,t,!1,this.config.optional),t=i.get(s);if(!s)return this.valid=!1,this.resolved(null);e=t?($([""+this.space+`❎ The module "${this.path}" and "${t.path}" reference the same embedded element "%o"`,s]),[t.resolve(),e=>this.resolveCachedModuleProfile(e)]):(re.call(i,s,this),[this.resolveEmbeddedType(s)])}return e&&d([...e,e=>this.resolveModule(e),e=>this.resolved(e)])}}verifyDependency(){if(this.integrity&&(!this.type||Object.is(this.type,R.namespace))){let e=this.parent;for(;e;)j(`There is a circular reference between module "${this.path}" and module "${e.path}"`,!Object.is(e.integrity,this.integrity)),e=e.parent}}})=>c)(),de=((y={file:e=>(e.multiple?[...e.files]:e.files[0])||null,focus:e=>e.isSameNode(document.activeElement),result:((s=(t,{buffer:e,data:s,encoding:i})=>{let r={file:t,loaded:0,progress:0,state:"initialized",content:null},o=new FileReader;return o.onloadstart=()=>(r=r&&r[N]&&[...r[N]][0].value||r).state="loading",o.onprogress=({loaded:e})=>(r.loaded=e,r.progress=Math.floor(e/t.size*100)),o.onload=()=>(r.state="loaded",r.content=o.result),o.onerror=()=>r.state="error",o.onabort=()=>r.state="abort",e?o.readAsArrayBuffer(t):s?o.readAsDataURL(t):o.readAsText(t,i||"utf-8"),r})=>(e,t)=>e.multiple?[...e.files].map(e=>s(e,t)):s(e.files[0],t))(),value:({tagName:e,type:t,value:s,valueAsNumber:i,multiple:r,selectedOptions:o},{number:n,trim:l,raw:a},{detail:h})=>{if(Object.is(h,!0))return null;if(["INPUT","SL-INPUT"].includes(e)){if(a)return s;if(["date","datetime-local"].includes(t))return new Date(i||0);if(["number","range"].includes(t))return i;if(n)return Number.parseFloat(s)}else Object.is(e,"SELECT")&&(s=r?[...o||[]].map(e=>d(e)):d(o?.[0]));return l&&H(s)?s.trim():s}},n=["draggable"],h=(e,t,s,{name:i})=>{Q(t.tagName)&&U(e)?t[J(i)]=e:null==e?t.removeAttribute(i):t.setAttribute(i,F(e))},c=((l=new Event("change"))=>{return{$boolean:(e,t,s,{name:i})=>t.toggleAttribute(i,!!e),checked:(t,s,e,{decorators:i})=>{var{tagName:r,type:o}=s,n=Object.is(o,"checkbox");if(Object.is(r,"INPUT")&&(n||Object.is(o,"radio"))){let e=null;n&&i.indeterminate&&(s.indeterminate=null==t),s.indeterminate||(s.checked=t),n||t&&(e=B(document.body,`input[type="radio"][name="${s.name}"]`,!0)),e&&M.then(()=>L(e,e=>e.dispatchEvent(l)))}else["SL-CHECKBOX","SL-SWITCH"].includes(r)?c.$boolean(t,s,null,{name:"checked"}):h(t,s,0,{name:"checked"})},class:(s,e,{profile:{classNames:i}})=>{if(s){let t=new Set(i);Array.isArray(s)?L(s,e=>g.call(t,F(e))):U(s)?L(Object.keys(s),e=>s[e]&&g.call(t,e.trim())):g.call(t,F(s)),e.setAttribute("class",[...t].join(" ").trim())}else i?e.setAttribute("class",i.join(" ")):e.removeAttribute("class")},each:((v=(t,e,s,i,r,o,n,l,a,h,c,d)=>{let u=null;var p=r.get(s);if(p){if(u=p.shift(),p.length||f.call(r,s),!Object.is(t,u.index)){var{landmark:m,upperBoundary:p}=u,v=[p];let e=p;for(;!Object.is(e,m);)e=e.nextSibling,v.push(e);L(v.reverse(),e=>d.insertBefore(e,(t?i[t-1].landmark||{}:h.upperBoundary).nextSibling)),i.includes(u)&&i.splice(u.index,1),u.index=t,i[t]=u}u.scope[l]=e,u.scope[n]=t}else u=new b(c,h,t,{[n]:t,[l]:e,[a]:s});r=o.get(s);r?r.push(u):re.call(o,s,[u])},f=Map.prototype.delete)=>(e,t,i,{decorators:s})=>{e=e||{};let r=new Set(I(e.values)?e.values():Object.values(e)),o=[...I(e.entries)?e.entries():Object.entries(e)],{children:n,childrenMap:l,profile:a,parentNode:h}=i,c=e[N];if(c&&L(o,([t,s])=>s&&s[N]&&c.forEach(e=>e.fetch(t,s))),!o.length)return ie.call(l)||i.removeChildren(!0);l.forEach((e,t)=>r.has(t)||L(e,e=>e.destructor(!0))||f.call(l,t));let d=new Map,{item:u="item",key:p="key",index:m="index"}=s;$(['❎ Duplication found in slice scope schemes "%o"',{item:u,key:p,index:m}],!Object.is(p,m)&&!Object.is(p,u)&&!Object.is(u,m)),L(o,([e,t],s)=>v(s,e,t,n,l,d,m,p,u,i,a,h)),n.length=o.length,l.forEach(e=>L(e,e=>(e.parent=null,e.destructor(!0)))),i.childrenMap=d})(),exist:(e,t,s)=>e?Object.is(s.state,"unloaded")&&s.loading():s.unloading(!0),file:(e,t)=>j([`The data bound to directive "*file" of element "%o" should be "File${t.multiple?" array":""}" instead of "%o"`,t,e],!e||(t.multiple?Array.isArray(e)&&e.every(e=>e instanceof File):e instanceof File)),focus:(e,t,s,{decorators:{prevent:i=!1}})=>e?t.focus({preventScroll:i}):t.blur(),html:(i,r,o,{decorators:{root:n=!1,strict:l=!1}})=>{if(i=F(i),o.removeChildren(!0),i){!l&&v.test(i)&&(i=`<${i}></${i}>`);let e=[],t=o.profile,s=ae(i);r||(l=t.node.$tags)&&he(s,l),Reflect.construct(ue,[s,n?w:t.namespace,e,null,!0]),e.length&&(_(),Promise.all(e.map(e=>Promise.all(e.promises||[]))).then(()=>L(e,(e,t)=>o.profile&&Reflect.construct(b,[e,n?null:o,t,null,(e.landmark||e.node).parentNode])))),r?r.appendChild(s):o.parentNode.insertBefore(s,o.landmark)}},result:(e,t)=>j([`The data bound to directive "*result" of element "%o" should be "object${t.multiple?" array":""}" instead of "%o"`,t,e],!e||(t.multiple?Array.isArray(e)&&e.every(U):U(e))),style:(r=(e,t)=>{var s,i;t&&([s,i=""]=t.split(":").map(e=>e.trim()),j(`The content "${t}" is not a valid style declaration`,s&&i),e[s]=i)},(s,e,{profile:{inlineStyle:t,styles:i}})=>{if(s){let t=Object.assign({},i);Array.isArray(s)?L(s,e=>r(t,F(e))):U(s)?L(Object.keys(s),e=>t[e.trim()]=F(s[e])):L(F(s).split(";"),e=>r(t,e.trim())),e.style.cssText=Object.keys(t).filter(e=>t[e]).map(e=>`${e}: ${t[e]}; `).join("").trim()}else t?e.setAttribute("style",t):e.removeAttribute("style")}),text:(e,t)=>{e=F(e),Object.is(e,t.textContent)||(t.textContent=e)},value:(a=(e,t=2)=>String(e).padStart(t,"0"),(i,t,e,{decorators:{trim:s=!1}})=>{s&&(i=F(i,s)),e.value=i;let r="value";var o,{tagName:e,type:n}=t;if(Object.is(e,"INPUT")){j(['It\'s illegal to use directive "*value" on element "%o"',t],!Object.is(n,"file"));var l=["date","datetime-local"].includes(n);if(i instanceof Date){if(l||Object.is(n,"week"))r="valueAsNumber";else if(Object.is(n,"month"))i=i.getUTCFullYear()+"-"+a(i.getUTCMonth()+1);else if(Object.is(n,"time")){var l=t.step||0;let e=a(i.getUTCHours())+":"+a(i.getUTCMinutes());i=e=l%60&&(e=e+":"+a(i.getUTCSeconds()),l%1)?e+"."+a(i.getUTCMilliseconds(),3):e}}else i=F(i,s)}else if(Object.is(e,"SL-INPUT"))i instanceof Date?([l,o]=(i=i.toISOString().replace("Z","")).split("T"),Object.is(n,"date")?i=l:Object.is(n,"time")&&(i=o)):i=F(i,s);else if(["SELECT","SL-SELECT"].includes(e)){let s=t.multiple;s&&j(['The data bound to directive "*value" of element "%o" should be "array" instead of "%o"',t,i],null==i||Array.isArray(i));l=Object.is(e,"SL-SELECT");L(l?t.getAllOptions?.():t.children,e=>{var t=d(e);e.selected=s?i.includes(t):Object.is(i,t)}),l&&!s&&t.selectionChanged?.()}else{if(!Object.is(e,"SL-RADIO-GROUP"))return h(i,t,0,{name:"value"});L(t.children,e=>{e.checked=Object.is(i,d(e))})}t[r]=i})};var a,r})(),O=(()=>(t,e,s)=>!e||(e=A(e))[s](e=>((e,t)=>{var s=!(t=String(t)).startsWith("!");s||(t=t.substring(1));let i=new RegExp(t),r=e.getModifierState&&e.getModifierState(t)||[e.code,e.key,e.button].some(e=>i.test(e));return s==r})(t,e)))(),s=(s,t,i)=>t&&L(t.filter((e,t)=>e&&(e.index=t,e.decorators)&&s.includes(e.decorators.name)).reverse(),e=>i(e)||t.splice(e.index,1)),i=({target:e,event:t,handler:s,options:i,listener:r,observer:o})=>{o?o.disconnect():r?W.call(e.$eventListenerMap[t],r):e.removeEventListener(t,s,i)},d=e=>e&&(Reflect.has(e[u]||{},"value")?e[u]:e).value,b=class{constructor(i,s=null,r=0,o=null,n=null){let{directives:e,dynamic:t,namespace:l,node:a,landmark:h,plain:c,text:d,html:u,raw:p}=i;if(this.directives=e,this.profile=i,this.index=r,this.state="loaded",this.parent=this.children=this.childrenMap=this.existController=this.landmark=this.upperBoundary=this.childrenController=this.controller=this.controllers=this.eventHandlers=this.scope=this.sentry=this.node=null,s?(this.parent=s,this.parentNode=n||s.node||s.parentNode,this.scope=s.scope,s.children.splice(r,0,this)):(this.parentNode=a.parentNode||h.parentNode,this.scope=T),this.module=l.module,u)return this.loading();if(p||c)this.resolveNode(),this.node.removeAttribute&&this.node.removeAttribute("dg-cloak"),c&&this.resolveChildren();else if(d)this.resolveNode(()=>this.controller=this.resolveController(d));else{n=this.directives?.each;if((n||i.virtual)&&this.resolveLandmark(o),o){let{plain:e,root:t}=n.decorators;this.sliceScope=this.resolveScope(o,e,t),s.children.length>r+1&&L(s.children,(e,t)=>e&&r<t&&e.index++)}else if(i.slotScope&&(this.slotScope=this.resolveScope(Object.assign({},i.slotScope),!0)),n)return this.children=[],this.childrenMap=new Map,this.controller=this.resolveController(n),this;if(t){let s=t.processor(this.module,this.scope,this.parentNode),e=this.directives;this.directives=Object.assign({},e,{controllers:[...e.controllers||[]],eventHandlers:[...e.eventHandlers||[]]}),L(A(s),e=>{H(e)&&(e=(t=e.indexOf("="))<0?{name:e,value:""}:{name:e.substring(0,t),value:e.substring(t+1)}),j(['The name of "@directive" expression should be "string" instead of "%o"',e.name],H(e.name)),j(['The value of "@directive" expression should be "string" instead of "%o"',e.value],H(e.value));var t=e.name.trim();j([`It's illegal to create "@raw", "@directive" or "*each" directive with the "@directive" expression "%o"`,s],!t.startsWith("@raw")&&!t.startsWith("@directive")&&!t.startsWith("*each")),i.resolveDirective(t,e.value,this.directives)}),_()}s=this.directives?.exist;s?(this.lanmark||this.resolveLandmark(o),this.state="unloaded",this.existController=this.resolveController(s)):this.loading()}}destructor(e){this.unloading(e);var{plain:t,text:s}=this.profile;t||s||(e&&(this.landmark&&this.landmark.remove(),this.upperBoundary)&&this.upperBoundary.remove(),this.existController&&this.removeController(this.existController),t=this.parent?.children,e&&t&&(L(t,(e,t)=>t>this.index&&e.index--),t.splice(this.index,1))),L(Reflect.ownKeys(this),e=>{this[e]=null})}initialize(){var{html:e,virtual:t}=this.profile,t=(e?this.node=e:t||this.resolveNode(),this.directives?.loaded);this.resolvePromise(t&&t.processor(this.module,this.scope,this.node),()=>this.postLoaded()),e||this.resolveChildren()}loading(){this.state="loading";var e=this.directives?.load;if(!e)return this.initialize();let{init:s,plain:i,root:r}=e.decorators;this.resolvePromise(e.processor(this.module,r?T:this.scope,null),e=>{var t;Object.is(this.state,"loading")&&(e?(t=e.constructor,(Object.is(t,Object)||!t&&Object.is(typeof e,"object"))&&this.resolveScope(e,i,r,s)):s&&this.resolveScope(e,i,r,s),this.initialize())})}postLoaded(){var e,t,s;this.state="loaded",this.node&&this.node.removeAttribute("dg-cloak"),f?(f(this.scope),f=null):this.directives&&({controllers:e,eventHandlers:t,sentry:s}=this.directives,s&&(this.sentry=Object.assign({},s,{owner:this,processor:s.processor.bind(null,this.module,this.scope)}),g.call(X,this.sentry)),t&&(this.eventHandlers=t.map(({event:t,decorators:s={},processor:i,name:r})=>{let{capture:e,outside:o,once:n,passive:l,target:a}=s,h=a?window[a]||B(document,a):this.node,c=o?window:h,d=e=>this.updateEventHandler(e,r,i.bind(null,this.module,this.scope),s,h);if(j([`The target of "+${t}" directive declared on element "%o" is invalid`,this.node||this.profile.node],h),Z[t]){let e=null;var u,p,m={},v=(Object.is(t,"observe-intersection")?({root:v,margin:u,threshold:p}=s,v&&(m.root=window[v]||B(B(document,v))),u&&(m.rootMargin=u),p&&(m.threshold=p),e=IntersectionObserver):Object.is(t,"observe-mutation")?({attributes:v,childlist:u,subtree:p}=s,v&&(m.attributes=!0),u&&(m.childList=!0),p&&(m.subtree=!0),e=MutationObserver):Object.is(t,"observe-resize")&&(e=ResizeObserver),new e(e=>i(this.module,this.scope,this.node,e),m));return v.observe(h),{target:c,event:t,observer:v,options:m}}return n||l?(u={capture:e,once:n,passive:l},c.addEventListener(t,d,u),{target:c,event:t,handler:d,options:u}):(p={decorators:s,handler:d},E(t,c,p,e),{target:c,event:t,listener:p})})),e)&&(this.controllers=e.map(e=>this.resolveController(e)).filter(e=>e))}removeChildren(e){if(e)if(this.node)this.node.innerHTML="";else if(this.upperBoundary){let e=this.upperBoundary.nextSibling;for(;e&&!Object.is(e,this.landmark);){var t=e.nextSibling;e.remove(),e=t}}this.children?.length&&(L(this.children,e=>e&&e.destructor(!1)),this.children.length=0)}removeController(t){t.topologySet.forEach(e=>e.unsubscribe(t)),se.call(t.topologySet),t.observer&&t.observer.disconnect(),Object.is(t,this.childrenController)&&(this.childrenController=null),Object.is(t,this.existController)&&(this.existController=null)}removeDirectives(e,t){e&&(t=A(t),s(t,[...this.controllers,this.childrenController,this.existController],e=>this.removeController(e)),s(t,this.eventHandlers,i))}resolveChildren(){var e=this.profile.children,t=this.directives?.child;!this.children&&(e||t&&Object.is(t.name,"html"))&&(this.children=[]),t?this.childrenController=this.resolveController(t):L(e,(e,t)=>new b(e,this,t))}resolveController({name:e,decorators:t={},processor:s}){let i=this.node,r=!t.once||t.lazy,o={name:e,owner:this,decorators:t,processor:s.bind(null,this.module,this.scope),topologySet:r?new Set:null,observer:null,updater:e&&(c[e]||i&&(t.bool||!n.includes(e)&&Object.is(typeof i[J(e)],"boolean"))&&c.$boolean||h)};return r&&i&&Object.is(e,"value")&&["SELECT","SL-SELECT"].includes(i.tagName)&&(o.observer=new MutationObserver(()=>this.updateController(o,!0))).observe(i,{childList:!0}),this.updateController(o,!0),r&&o}resolveLandmark(t){var{index:s,parent:i,parentNode:r,profile:{landmark:o,virtual:e}}=this;if(i){let e=null;s=i.children[s+1];e=s?s.upperBoundary||s.node||s.landmark:t?i.landmark:r.contains(o||null)?o:i.node?null:i.landmark,this.landmark=r.insertBefore(a.cloneNode(!1),e)}else this.landmark=o;(e||this.directives?.each)&&(this.upperBoundary=r.insertBefore(a.cloneNode(!1),this.landmark))}resolveNode(e){var{node:t,unique:s,raw:i}=this.profile,s=s?t:t.cloneNode(i);(this.node=s)[u]=this,e&&e(),s.isConnected||(t=this.landmark||this.parent&&(this.parent.node?null:this.parent.landmark),this.parentNode.insertBefore(s,t&&Object.is(this.parentNode,t.parentNode)?t:null))}resolvePromise(e,t){D(e)?e.then(t):t(e)}resolveScope(e,t,s,i){if(i){i=this.profile.moduleProfile;if(i){i=i.config.init;if(i)return this.resolveScope(i,t,s),e&&this.resolveScope(e,t)}}return t||(e=z(e)),this.scope=Object.setPrototypeOf(e,s?T:this.scope),e}unloading(e){if(!Object.is(this.state,"unloaded")){if(!this.controller||this.removeController(this.controller)||(this.controller=null),!this.profile.text){if(this.state="unloading",this.profile.plain||this.childrenMap)return this.removeChildren(e);this.childrenController&&this.removeController(this.childrenController),L(this.controllers,e=>this.removeController(e))||(this.controllers=null),L(this.eventHandlers,i)||(this.eventHandlers=null)||this.node&&(this.node.$eventListenerMap=null),this.sentry&&(W.call(X,this.sentry),this.sentry=null);var t=this.directives?.unload,t=(t&&t.processor(this.module,this.scope,this.node),this).node,t=(e&&t&&t.remove(),this.node=null,this.removeChildren(e),this.scope=this.sliceScope||this.parent?.scope||T,this.directives?.unloaded);t&&t.processor(this.module,this.scope,null)}this.state="unloaded"}}updateEventHandler(t,e,s,i,r){if(!e){var{on:o,inside:n,outside:l,every:a,some:h,prevent:c,stop:d,stopImmediate:u}=i,{type:p,target:m,currentTarget:v}=t,f=Object.is(m,v);if($([`❎ Please avoid using "on", "inside" or "outside" decorators together on "+${p}" directive on element "%o".`,v],!!o+!!n+!!l<2),!((!(o||n||l)||l&&r.contains&&!r.contains(m)||o&&f||n&&(!v.contains||v.contains(m)&&!f))&&O(t,a,"every")&&O(t,h,"some")))return;c&&(Object.is(c,!0)||A(c).some(e=>Object.is(t.detail?.source,e)))&&t.preventDefault(),d&&t.stopPropagation(),u&&t.stopImmediatePropagation()}let b=S,g=i.remove;S=null;p=s(this.node,e?y[e]?y[e](this.node,i,t):this.node[e]:t);g&&(D(p)?p.then(e=>this.removeDirectives(e,g)):this.removeDirectives(p,g)),S=b}})=>{var r,o;return b.prototype.updateController=(r=new Set,o=(a,h,c)=>{if(a.profile){let{decorators:{once:e,remove:t,route:s,lazy:i},topologySet:r,updater:o,name:n}=h,l=!e||i;var d;(c||r&&[...r].some(e=>!Object.is(e.oldValue,e.value)))&&(r&&r.size&&(r.forEach(e=>e.unsubscribe(h)),se.call(r)),c=S,S=l?h:null,d=h.processor(a.node),l&&s&&P.subscribe(),S=c,i&&!n?(h.processor=d,h.decorators.lazy=!1):D(d)?d.then(e=>(t&&a.removeDirectives(e,t),o&&o(e,a.node,a,h))):(t&&a.removeDirectives(d,t),o&&o(d,a.node,a,h)))}},function(e,t){r.has(e)||(g.call(r,e),M.then(()=>{W.call(r,e),o(this,e,t)}))}),b})(),ue=((i={"*":"controller","+":"event"},d=t("load","loaded","sentry","unload","unloaded"),r=t("STYLE","SCRIPT"),u=((e=["sl-change"],t=["sl-change","sl-input"],s=["sl-blur","sl-focus"],i=["sl-show","sl-hide"])=>({INPUT:{value:{"*":!0},file:{file:!0},result:{file:!0},checked:{checkbox:!0,radio:!0}},SELECT:{value:!0},TEXTAREA:{value:!0},"SL-ALERT":{open:i},"SL-ANIMATION":{play:["sl-start","sl-finish","sl-cancel"]},"SL-BUTTON":{focus:s},"SL-CHECKBOX":{checked:e,indeterminate:e,focus:s},"SL-COLOR-PICKER":{value:t,format:t,focus:s},"SL-DETAILS":{open:i},"SL-DIALOG":{open:i},"SL-DRAWER":{open:i},"SL-DROPDOWN":{open:i},"SL-ICON-BUTTON":{focus:s},"SL-IMAGE-COMPARER":{position:e},"SL-INPUT":{value:t},"SL-SELECT":{value:e,focus:s,open:i},"SL-RADIO":{focus:s},"SL-RADIO-BUTTON":{focus:s},"SL-RADIO-GROUP":{value:e},"SL-RANGE":{value:t,focus:s},"SL-RATING":{value:e},"SL-SPLIT-PANEL":{position:["sl-reposition"]},"SL-SWITCH":{checked:e,focus:s},"SL-TEXTAREA":{value:t},"SL-TOOLTIP":{open:i},"SL-TREE-ITEM":{expanded:["sl-expand","sl-collapse"]}}))(),f=e=>e.includes("__")?e.replace(/__[a-z]/g,e=>e[2].toUpperCase()):e,p=(e,t,s,i)=>e.eventHandlers.push(g(`Object.is(${t}, _$data_) || (${t} = _$data_)`,Object.assign({event:i},s),"$node, _$data_")),b=(e,t,s="")=>{m.debugDirective&&e.setAttribute(`${i[t[0]]||"meta"}-${decodeURIComponent(t.substring(1)).trim().replace(/\#/g,"__").replace(/:/g,"_").replace(/[^\w]/g,"-")}-debug`,s)},g=((o="$module, $scope")=>(e,t={},s="$node")=>{var{clear:i,debug:r}=t.decorators||{},s=(e=(s?`(${o}, ${s})`:`(${o})`)+` => { with ($module) with ($scope) return (() => { 'use strict';
 ${r?"debugger;\n\r":""}${i?"console.clear();\n\r":""}return ${e}; })(); }`,l[e]),r=Object.assign({},t,{processor:s||e});return s||n.push(r),r})(),o=class{constructor(u,p=w,m=null,s=null,e=!1,v=null){this.node=u,this.namespace=p,this.unique=e,this.defaultSlotScope=v||s?.defaultSlotScope||null,this.dynamic=this.plain=this.raw=this.virtual=!1,this.text=this.inlineStyle=this.styles=this.directives=this.landmark=this.children=this.classNames=this.html=this.slotScope=this.moduleProfile=null;e=u.nodeType;if(Object.is(e,Node.TEXT_NODE)){var v=u.textContent.trim();v&&(v.includes("${")&&v.includes("}")?(m&&m.push(this),this.text=g(`\`${v}\``,{name:"text"},""),this.promises=[],this.node=this.resolveLandmark(u,"string template replaced")):this.raw=!0,s.children.push(this))}else if(Object.is(e,Node.ELEMENT_NODE)){this.promises=[];let h="dg-cloak",{attributes:c,tagName:d}=u,e="@raw",t=c[e];if(this.html=u.isSameNode(document.documentElement)&&u,this.raw=!(!t&&!r[d]),this.raw)t&&(b(u,e),u.removeAttribute(e)),m&&u.removeAttribute(h);else{let e=[],t=[],s={controllers:e,eventHandlers:t},i=f(d.toLowerCase()),r=Object.is(u.constructor,HTMLUnknownElement)&&p.fetchViewModule(i.split(".")[0]),o=Object.is(r.state,"resolved"),n="@directive",l=c[n],a="@slot";if(r&&j(`It is illegal to use "*html" or "*text" directive on view module "${i}"`,!u.hasAttribute("*html")&&!u.hasAttribute("*text")),r&&(this.virtual=!0,this.resolveLandmark(u,"virtual node removed")),r&&!o)this.resolveDirective("*html",`\`${u.outerHTML.replace(/`/g,"\\`").replace(/\${/g,"\\${")}\``,s),this.directives=s;else{if(u.hasAttribute(a)&&(p="_$slot_"+(v=u.getAttribute(a).trim()),b(u,a,v),u.removeAttribute(a),this.defaultSlotScope)&&(this.defaultSlotScope[p]=u.innerHTML,$([`❎ Please avoid adding "*html" or "*text" directive on element "%o" as it's declared "@slot" meta directive already`,u],!u.hasAttribute("*html")&&!u.hasAttribute("*text")),u.removeAttribute("*html"),u.removeAttribute("*text"),this.resolveDirective("*html#strict",p,s)),L([...c],({name:e,value:t})=>this.resolveDirective(e,t,s)),l?(this.directives=s,this.dynamic=g(l.value),u.removeAttribute(n)):(e.length||(s.controllers=null),t.length||(s.eventHandlers=null),(s.controllers||s.eventHandlers||2<Object.values(s).length)&&(this.directives=s)),this.html)return _();this.plain=!(this.directives||this.landmark)}m&&(this.plain?u.hasAttribute(h)&&L(u.children,e=>e.setAttribute(h,""))||u.removeAttribute(h):m.push(this)&&(m=null)),r?o&&this.resolveViewModule(r.fetch(i.split(".").slice(1))):(Object.is(i,"template")&&(this.plain?(this.raw=!0,this.plain=!1):(this.virtual=!0,this.resolveLandmark(u,"virtual node removed"))),this.raw||s.child||this.resolveChildren(u,m))}s&&(s.children.push(this),this.promises.length)&&s.promises.push(Promise.all(this.promises))}else Object.is(e,Node.DOCUMENT_FRAGMENT_NODE)?(this.promises=[],this.resolveChildren(u,m)):Object.is(e,Node.COMMENT_NODE)?this.raw=!0:j(`The node type "${e}" is not supported`)}resolveChildren(e,t){e=(this.virtual?e.content:e).childNodes;return e.length?(this.children=[],L(e,e=>Reflect.construct(o,[e,this.namespace,t,this,!!this.unique])),this.plain&&this.children.every(e=>e.raw)&&(this.raw=!0,this.plain=!1)):this.plain&&(this.raw=!0,this.plain=!1),this.raw&&(this.children=null),this}resolveDirective(r,o,n){var l=i[r[0]];if(l){var a=this.node;b(a,r,o),a.removeAttribute(r);let[t,...e]=f(r.substring(1)).split("#"),i=C(),s={decorators:i};if(L(e.filter(e=>e),t=>{var[t,s]=t.split(":").map(e=>decodeURIComponent(e).trim());try{i[t]=s?JSON.parse(s):t}catch(e){i[t]=s}}),Object.is(l,"event"))s.event=t,d[t]?n[t]=g(o,s,Object.is(t,"sentry")?"$nextRoute":"$node"):n.eventHandlers.push(g(o,s,Z[t]?"$node, $entries":"$node, $event"));else{o=o||J(t),Object.is(t,"watch")?i.lazy&&(o=`${o.substring(o.indexOf("(")+1,o.indexOf(")")).trim()||"null"}, $node => { 'use strict';\n ${i.debug?"debugger;\n\r":""}return ${o}; }`):s.name=t;r=g(o,s);if(Object.is(t,"each"))n.each=r,this.resolveLandmark(a,'"*each" node replaced'),this.unique=!1;else if(Object.is(t,"exist"))n.exist=r,this.resolveLandmark(a,'"*exist" node replaced'),this.unique=!1;else if(Object.is(t,"html")||Object.is(t,"text"))$(['❎ Please avoid adding "*html" and "*text" directives together on element "%o"',a],!n.child),n.child=r;else{if(Object.is(t,"class"))this.classNames||a.classList.length&&(this.classNames=[...a.classList].map(e=>e.trim()));else if(Object.is(t,"style")){if(!this.styles){let i=a.style,e=[...i];e.length&&(this.inlineStyle=a.getAttribute("style"),this.styles=C(),L(e,e=>{var t=i[e],s=i.getPropertyPriority(e);this.styles[e]=s?t+" !"+s:t}))}}else if(!i.oneway){var l=a.tagName,h=i.change,c=u[l];if(c){c=c[t];if(c){let e=[];Q(l)?e=h?["sl-change"]:c:(c[a.type]||c["*"])&&(e=Object.is(t,"focus")?["blur","focus"]:[h?"change":"input"]),e.length&&(i.capture=!0,e.forEach(e=>p(n,o,s,e)))}}}n.controllers.push(r)}}}}resolveLandmark(e,t){if(!this.landmark)return this.landmark=a.cloneNode(!1),this.promises.push(M.then(()=>e.replaceWith(this.landmark)||t)),this.landmark}resolveViewModule(e){var t=e.module,s=e.path,i=t instanceof o,i=(i||(e=e.fetchChild("view")),i?t:e.module);if(j(`"${s}" or "${s}.view" is not a valid view module`,i instanceof o),this.children=i.children,this.moduleProfile=e,this.defaultSlotScope=i.defaultSlotScope,Object.keys(this.defaultSlotScope).length){let i={},r="_$slot_",o="@slot";L(this.node.children,e=>{var t,s;e.hasAttribute(o)&&(t=e.getAttribute(o).trim(),s=r+t,b(e,o,t),e.removeAttribute(o),i[s]=Object.is(e.tagName,"TEMPLATE")?e.innerHTML:e.outerHTML)}),Reflect.has(this.defaultSlotScope,r)&&!Reflect.has(i,r)&&this.node.innerHTML&&(i[r]=this.node.innerHTML),this.slotScope=Object.assign({},this.defaultSlotScope,i)}}})=>o)(),pe=class{constructor(e,t,s){this.value=this.oldValue=s,this.parent=null,this.controllerSet=new Set,this.children=C(),this.name=t,e&&((e.children[t]=this).parent=e)}dispatch(e=h.bubble){j('It is illegal to modify fields under "$route" of the rootScope',p||!Object.is(P,this.parent)),Object.is(e,h.mutation)||this.parent&&this.parent.parent&&this.parent.dispatch(h.bubble);let t=Object.is(e,h.bubble);this.value&&this.value[N]?this.value[N].forEach(e=>e.trigger(t)):this.trigger(t)}fetch(e,t){e=this.children[e]||new pe(this,e,t);return t&&t[N]&&g.call(t[N],e),e}subscribe(){var e;return S&&(g.call(S.topologySet,this),g.call(this.controllerSet,S),e=this.parent,e)&&e.parent&&e.unsubscribe(S),this}trigger(t){this.controllerSet.size?this.controllerSet.forEach(e=>e.owner.updateController(e,t))||M.then(()=>this.oldValue=this.value):this.oldValue=this.value}unsubscribe(e){W.call(e.topologySet,this),W.call(this.controllerSet,e)}update(t,e){var s=this.value;Object.is(s,t)||(U(s)&&Reflect.has(s,N)&&W.call(s[N],this),U(t)&&Reflect.has(t,N)&&g.call(t[N],this),this.value=t,this.dispatch(e),Object.is(t)&&this.parent&&(Reflect.deleteProperty(this.parent.children,this.name),this.parent=null),L(y(this.children),e=>this.children[e].update((t||C())[e],h.mutation)))}})=>le("[dg-cloak] { display: none !important; }","dg-global-style",!1)&&document.addEventListener("DOMContentLoaded",()=>Promise.all(["options","modules","routers"].map(e=>b(document,document.baseURI,e))).then(((l="",b=history.pushState,t=history.replaceState,g=null,y=null,i={"":x},r=(e,t=null)=>{try{var s=document.getElementById(e)||B(document,`a[name=${e}]`,!1,!0);if(s)return t&&t.preventDefault(),s.scrollIntoView(),location.href.endsWith("#@"+e)||b.call(history,null,"",location.href+"#@"+e),!0}catch(e){}},a=((f=((s=e=>{V(`resolving modules of the route "${e.path||"/"}"`),O(`✅ route has changed from "${T.$route?.path||"/"}" to "${e.path||"/"}"`),_();var t=T.$route&&i[T.$route.path];p=!0,T.$route=e,p=!1,P||(P=[...e[N]][0],Y.map(e=>new de(e))),Object.is(t,x)||(t&&t.forEach(e=>(e.disabled=!x.has(e),e.setAttribute("active-debug",!e.disabled))),x.forEach(e=>(e.disabled=!1,e.setAttribute("active-debug",!0)))),r(e.anchor)})=>e=>{O(`⏳ route is changing from "${T.$route?.path||"/"}" to "${e.path||"/"}"...`);var t=e.path;return x=i[t]||(i[t]=new Set),q(`resolving modules of the route "${e.path}"`),w.resolve(e.modules).then(()=>s(e))})())=>()=>{var e=location.hash.lastIndexOf("#@"),e=0<=e?location.hash.substring(e+2):"";let t=(Object.is(y.mode,"history")?""+location.pathname+location.search:location.hash.replace(e,"")).replace(y.prefix,"");t.startsWith("/")||(t="/"+t);var{mode:s,aliases:i,prefix:r}=y,[o="",n=""]=t.split("?"),l=o.substring(1),a={},h=Object.is(o,"/")?[""]:o.split("/"),c=[];!Object.is(o,"/")&&o.endsWith("/")&&h.splice(h.length-1,1);let d=null;if(Reflect.has(i,l)?(d=i[l],O("🦘 route alias matched")):g.match(c,a,h)?(c.reverse(),d=c.find(e=>e.redirectPath||Object.is(e.redirectPath,""))?.redirectPath):Reflect.has(y,"default")?(j(`The route "${l}" is invalid`,!Object.is(y.default,l)),$(`❎ The route "${l}" is invalid`),d=y.default):j(`The route "${l}" is invalid`),null!=d)return O(`The route is redirecting from "${l}" to "${d||"/"}"`),history.replaceState(null,"",""+(n?d+"?"+n:d)+e||y.prefix);let u={},p=Object.assign({},...c.map(e=>e.variables)),m=Object.assign({},...c.map(e=>e.constants)),v=(n&&L([...new URLSearchParams(n)],([e,t])=>u[e]=t),L(Object.keys(p),e=>{if(Reflect.has(u,e)&&!Reflect.has(m,e)){var t=typeof p[e],s=u[e];try{p[e]=Object.is(t,"string")?s:window[""+t[0].toUpperCase()+t.substring(1)](JSON.parse(s))}catch(e){j(`The expected variable type is "${t}" but the real queryString content is "${s}"`)}}}),{url:location.href,mode:s,prefix:r,path:l,paths:h,modules:new Set(c.map(e=>e.modules).flat()),query:n,queries:u,params:a,variables:p,constants:m,anchor:e});O(`⏳ resolving sentries within route "${T.$route?.path||"/"}"...`),Promise.all([...X].map(t=>Promise.resolve(t.processor(v)).then(e=>({sentry:t,prevent:e})))).then(e=>{O(`✅ resolved sentries within route "${T.$route?.path||"/"}"`);e=e.filter(e=>e.prevent).map(e=>e.sentry.owner);e.length?L(e,e=>$(['❎ The route redirect is prevented by the "$sentry" directive declared on the "%o" element',e.node||e.profile.node]))||b.call(history,null,"",T.$route.url):f(v)})})(),c=class{constructor(e,t=null){var{children:s,constants:i={},variables:r={},modules:o=[],tailable:n=!1,redirect:l=""}=e,a=(this.layer=t?t.layer+1:0,new Array(4*this.layer).fill(" ").join(""));let h=H(e.path)?(e.path||"").trim():e.path;this.modules=A(o),j([`${a}The "modules" field of route should be either "string" or "string array" matched RegExp "${v.toString()}" instead of "%o"`,o],this.modules.every(e=>H(e)&&v.test(e))),t?(h&&!Object.is(h,"*")||(h=".+"),this.path=t.path+"/"+h):($(a+'❎ The "path" field of the root route will be ignored',!Reflect.has(e,"path")),h="",this.path=""),O(a+"⏳ resolving the "+(this.path?`route with path "${this.path}"`:"root route")),l&&(this.redirectPath=I(l)?l(T,w.module):k(`($module, $scope) => { with ($module) with ($scope) return (() => { 'use strict'; return ${l}; })() }`)(w.module,T)),this.constants=i,this.variables=r,this.children=null,this.parent=t,this.params=U(h)?Object.keys(h).map(e=>({param:e,regExp:new RegExp(h[e]||"^.+$")})):h.split("/").map(e=>(e=e.trim()).startsWith(":")?{param:e.substring(1).trim(),regExp:/^.+$/}:{param:e,regExp:new RegExp(`^${e}$`)}),s&&(j([a+`The route's "children" field should be "array" instead of "%o"`,s],Array.isArray(s)),this.children=s.map(e=>new c(e,this))),this.tailable=n||!this.children?.length,O(a+"✅ resolved the "+(this.path?`route with path "${this.path}"`:"root route"))}match(t,i,r,s=r.length,o=0){var e=this.params.length;if(e<=s&&this.params.every(({param:e,regExp:t},s)=>{s=r[o+s];if(t.test(s))return i[e]=s,!0}))return o+=e,(Object.is(s,o)&&this.tailable||this.children?.find(e=>e.match(t,i,r,s,o)))&&t.push(this)}})=>{s=(e,t)=>{function s(...e){return e=i.apply(this,e),this[N]&&this[N].forEach(e=>e.dispatch()),e}let i=e?.[t];j([`"${t}" is not a valid method name of prototype object "%o"`,e],i&&I(i));Reflect.defineProperty(s,"name",{configurable:!0,value:t}),Reflect.defineProperty(e,t,{get:()=>s})};var s,e=(t,e)=>{j(['The 1st argument of "$dagger.register" should be valid "object" instead of "%o"',t],U(t)),j(['The 2nd argument of "$dagger.register" should be "string array" instead of "%o"',e],Array.isArray(e)&&e.every(e=>H(e))),L(e,e=>s(t.prototype,e))};E("click",window,e=>{let t=e.target;for(;t&&!["A","AREA"].includes(t.tagName);)t=t.parentNode;var s;t&&t.hasAttribute("href")&&((s=t.getAttribute("href").trim()).startsWith("#")&&r(s.substring(1),e)||s&&!K.test(s)&&(e.preventDefault(),history.pushState(null,"",s)))},!0);let o={detail:!0},n=new CustomEvent("change",o),h=new CustomEvent("input",o),d=(E("reset",window,()=>e=>Object.is(e.target.tagName,"FORM")&&L(B(document.body,"input, textarea",!0,!0),e=>{e.dispatchEvent(h),e.dispatchEvent(n)})),e(Date,["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"])||e(Map,["set","delete","clear"])||e(Set,["add","delete","clear"])||e(WeakMap,["set","delete"])||e(WeakSet,["add","delete"]),JSON.stringify=oe(JSON.stringify),L(["concat","copyWithin","fill","find","findIndex","lastIndexOf","pop","push","reverse","shift","unshift","slice","sort","splice","includes","indexOf","join","keys","entries","values","forEach","filter","flat","flatMap","map","every","some","reduce","reduceRight","toLocaleString","toString","at"],e=>Array.prototype[e]=oe(Array.prototype[e])),(e,t)=>{var s=t?.[2],i=y.prefix;s&&!s.startsWith(i)&&(t[2]=""+i+s),e.apply(history,t),a()});return history.pushState=(...e)=>d(b,e),history.replaceState=(...e)=>d(t,e),window.$dagger=Object.freeze(Object.assign(C(),{register:e,version:"1.0.0-RC-debug",validator:(t,s,{type:e,assert:i,required:r}={})=>{null!=t&&!Number.isNaN(t)||j([`The data "${s}" should be assigned a valid value instead of "%o" before using`,t],!r),e&&(Array.isArray(e)?j([`The type of data "${s}" should be one of "%o" instead of "%o"`,e,t.constructor?.name],e.some(e=>t instanceof e)):j([`The type of data "${s}" should be "%o" instead of "%o"`,e,t.constructor?.name],t instanceof e)),i&&(I(i)?j(`The assert of "${s}" is falsy`,i(t)):Array.isArray(i)?L(i,e=>{j(`The type of assert should be "function" instead of "${typeof e}"`,I(e)),j(`The assert of "${s}" is falsy`,e(t))}):j(`The type of assert should be "function" or "function array" instead of "${typeof i}"`))}})),([e,t,s])=>{m=e.content;e=new Array(141).fill("%").join("");O(e),O(`꧁ Powered by "🗡️ dagger V${$dagger.version} (https://daggerjs.org)". ꧂`),O(e),j(`The integrity feature is available with "https" protocol or "localhost" host only, while the current origin is "${location.origin}"`,!m.integrity||crypto.subtle),l=t.base;let i=(y=s.content).prefix.trim(),r=Object.is(y.mode,"history"),o=(i?r?(j(`In "history" route mode, it's illegal to use "${i}" as route prefix because it contains non-word character`,/^\w*$/.test(i)),y.prefix=`/${i}/`):(j(`In "hash" route mode, it's illegal to use "${i}" as route prefix because it starts with "@"`,!i.startsWith("@")),y.prefix=`#${i}/`):y.prefix=r?"/":"#",G={$route:null},T=Object.seal(z(G)),ee(t.content),document.documentElement),n=y.routing||{modules:Object.keys(t.content)};q("resolving top level modules"),f=e=>{T=e,q("resolving routers"),g=new c(n),V("resolving routers");e=m.rootSelectors,j(['The "rootSelectors" should be "string array" instead of "%o"',e],Array.isArray(e)&&e.every(H)),L(e,e=>$(`There is no element matching the rootSelector "${e}"`,document.querySelector(e))),e=new Set(e.map(e=>[...B(document,e,!0,!0)]).flat()),$(['❎ It\'s illegal to set "%o" as root node',o],!e.has(o)),e.delete(o),e=[...e];L(e,e=>Reflect.construct(ue,[e,w,Y,null,!0])),$(['❎ No node with valid directive was detected under root elements "%o"',e],Y.length),E("popstate",window,a),history.replaceState(null,"",r?""+location.pathname+location.search+location.hash:location.hash)},(w=new ce({content:t.content,type:R.namespace},l)).resolve(new Set(A(n.modules||[]))).then(()=>x.forEach(e=>e.disabled=!1)||V("resolving top level modules")||new de(new ue(o)))}})())))();